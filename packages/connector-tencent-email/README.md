# Tencent push mail service connector

The official Logto connector for Tencent push email service.

腾讯云邮件推送服务 Logto 官方连接器 [中文文档](#腾讯云邮件连接器)

**Table of contents**

- [Tencent push mail service connector](#tencent-push-mail-service-connector)
- [腾讯云邮件推送服务连接器](#腾讯云邮件推送服务连接器)
  - [在腾讯云邮件推送服务控制台中配置邮件服务](#在腾讯云邮件推送服务控制台中配置邮件服务)
    - [创建腾讯云账号](#创建腾讯云账号)
    - [配置腾讯云邮件推送服务](#配置腾讯云邮件推送服务)
    - [编写连接器的 JSON 配置](#编写连接器的-json-配置)

# 腾讯云邮件推送服务连接器

腾讯云是亚洲地区一个重要的云服务厂商，提供了包括邮件推送服务在内的诸多云服务。

本连接器是 Logto 官方提供的腾讯云邮件连接器，帮助终端用户通过邮件验证码进行登录注册。

## 在腾讯云邮件推送服务控制台中配置邮件服务

> 💡 **Tip**
>
> 你可以跳过已经完成的部分。

### 创建腾讯云账号

前往 [腾讯云](https://cloud.tencent.com/) 并完成账号注册并进行实名认证。

### 配置腾讯云邮件推送服务

1. 使用刚刚注册的账号登录并前往 [邮件推送服务控制台](https://console.cloud.tencent.com/ses)。按照官方「快速入门」的步骤，逐步完成配置。
2. 配置发信域名：腾讯云邮件推送支持所有行业标准的身份验证机制，包括域名密钥识别邮件 (DKIM)、发件人策略框架 (SPF)、基于域的邮件身份验证、报告和一致性 (DMARC)、邮件交换记录（MX record）。[官方文档](https://cloud.tencent.com/document/product/1288/60652)
    - 首先需要另行购买域名，如：example.com
    - 在发信域名配置页中，点击「新建」，输入你的发信域名，点击「提交」。
    - 之后返回至发信域名页面，在列表中选择你刚刚添加的域名，点击「验证」按钮。
    - 此时在弹出的发信域名配置弹窗中，按照文档提示在域名托管商的 DNS 设置中，添加如下解析记录（以 cloudflare 为例）：
    - DNS 设置完成后，点击「提交验证」按钮，如上述 DNS 设置成功则会看到「验证通过」状态。
3. 配置发信地址：在发信地址配置页中，点击「新建」按钮，选择你在上一步绑定的域名，并指定发信地址的前缀，如：`noreply@example.com`。
4. 创建发信模板：在发信模板配置页中，点击「新建」，输入模板名称，选择模板类型，并在邮件正文中使用 `{{变量名}}`作为模板的可替换内容。模板提交后需要通过审核之后才可使用。注：通常我们需要创建多个邮件模板，以满足我们在注册、登录、忘记密码等多个场合的不同需求。
5. 发送测试邮件：点击官方「快速入门」的最后一步，来到[邮件发送](https://console.cloud.tencent.com/ses/send)页面。选择发信模板，输入主题和收件人等信息，点击「发送」按钮。如能成功收到测试邮件，那么恭喜，你已成功完成腾讯云邮件的设置。

### 编写连接器的 JSON 配置